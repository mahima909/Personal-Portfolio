"use strict";
const nav = document.querySelector(".mobile-nav"),
  navMenuBtn = document.querySelector(".nav-menu-btn"),
  navCloseBtn = document.querySelector(".nav-close-btn"),
  navToggleFunc = function () {
    nav.classList.toggle("active");
  };
navMenuBtn.addEventListener("click", navToggleFunc),
  navCloseBtn.addEventListener("click", navToggleFunc);
const themeBtn = document.querySelectorAll(".theme-btn");
for (let i = 0; i < themeBtn.length; i++)
  themeBtn[i].addEventListener("click", toggleTheme);
function showLatestBlog() {
  fetch("assets/data/blogs.json")
    .then((e) => e.json())
    .then((e) => {
      localStorage.setItem("blogIndex", e.length - 1);
      window.location.href = "blog.html";
    })
    .catch((e) => console.error("Error loading the posts:", e));
}
function toggleTheme() {
  if (document.querySelector("body").classList.contains("ignore")) return;
  localStorage.setItem(
    "theme",
    document.body.classList.contains("dark-theme") ? "light" : "dark"
  ),
    document.body.classList.toggle("light-theme"),
    document.body.classList.toggle("dark-theme");
  for (let i = 0; i < themeBtn.length; i++)
    themeBtn[i].classList.toggle("light"), themeBtn[i].classList.toggle("dark");
}

const theme = localStorage.getItem("theme");
if (theme === "dark") {
  toggleTheme();
}
function adminLogin() {
  const isAdmin = localStorage.getItem("admin");
  if (isAdmin === "true") {
    window.location.href = "editor.html";
  } else {
    const password = prompt("Verification: ");
    if (password === "admin") {
      localStorage.setItem("admin", "true");
      window.location.href = "editor.html";
    } else {
      alert("Incorrect password");
    }
  }
}
